# 데이터 모델
앞서 DB의 정의는 Data를 구조조적으로 보관하는 소프트웨어라고 정의했는데 이때, Data의 구조를 정의한 개념으로, 아래와 같은 개념을 포함하고 있습니다.

1. 구조
2. 데이터들간의 관계
3. 연산
4. 데이터에 대한 규칙

예를들어 스택을 구현하기 위해선 FILO구조, 연산(push, pop), 정수만 넣을수 있는 제약조건 등을 정의해야 하듯, 데이터베이스를 설계할때도 비슷한 개념이 사용됍니다.

데이터 모델의 발전을 시간순으로 보면 이렇습니다.
* 1960 ~ 1980: 계층형 데이터 모델, 네티워크 데이터 모델
* 1980 ~ 현재: 관계 데이터 모델
* 1990 ~ 2000: 객체 데이터 모델
* 2000 ~ 현재: 객체-관계 데이터 모델

이렇게 여러 데이터 모델들이 있었지만 현재는 관계 데이터 모델이 유일하게 사용된다 봐도 무방합니다.



***




# 관계 데이터 모델
관계 데이터 모델은 모든 구조를 행과 열로 이루어진 테이블(표)로 표현합니다. 이때 이러한 테이블을 Relation이라 정의합니다.

Reational data model의 연산을 algebra라 부른다.

데이터는 Reationalship 이라는 관련성이 있다.

## Relation

## Relationship
Relation, 즉 관계는 테이블을 설계할때 정의할수 있고 크게 2가지로 나눌수 있습니다.

1. Relation 내 데이터들의 관계
    * 별로 신경쓸일은 없습니다.
2. Relation 간에 생성되는 관계
    * 관계형 데이터베이스의 핵심 개념으로 뒤에서 외래키를 통해 자세히 다루겠습니다.


## Relational algebra
관계형 데이터 모델의 연산을 수행하는 방법으로, SQL 코드 작성시 DBMS가 연산을 수행합니다.




***






# Schema & Instance
1. 하나나의 R에는 이름이 있다.
2. R의 최상단 행에는 제목이 있는데 이를 에트리뷰트(속성) 이라 한다.
3. 이러한 속성을 모아놓은은것을 스키마 라고 한다. 
    * 테이블의 모양을 나타내는 것이다, 변하지 않는다.
    * 사실상 R을 설계한다는것은 스키마를 설계한다는 것
4. 데이터 한줄한줄을 Tuple(행) 이라 한다.
5. 튜플의 집합을 인스턴스 라 한다.
    * 수시로 변화하는 데이터 이기도 한다것


## Schema
스키마를 구성하는 요소는 다음과 같습니다, 또한 스키마는 변하지 않고 변하는것은 인스턴스라는것을 기억해야 합니다.

1. 속성(Attribute): 테이블 스키마의 열
2. 도메인(Domain): 속성이 가질수 있는 타입
3. 차수(Degree): 속성의 개수

## Instance
Instance는 스키마에 따라 생성된 데이터의 집합을 말합니다. 즉, 테이블에 들어있는 데이터를 말합니다. 구성하는 요소는 다음과 같습니다.
1. 튜플(Tuple): 테이블 스키마의 행
2. 카디널리티(Cardinality): 튜플의 개수
    * 튜플이 가지는 속성의 개수는 Schema의 Degree와 동일하고, 테이블 내의 모든 튜플은 서로 중복돼지 않아야 합니다.






***






# 테이블의 특징
밑의 특징들을 어기면 관계형 데이터베이스라 할수 없습니다. 하지만 DBMS가 알아서 해주기 때문에 신경쓸일 또한 없습니다. 그냥 이러한 개념이 있다고만 알아두셔도 괜찮습니다. 역시 이러한 특징들은 SQL로 생성, 조작됩니다.

* 각 속성의 값은 도메인에 정의된 값만을 가지며 그 값은 모두 단일 갑이여야 한다.
* 속성은 서로 다른 이름을 가져야 한다.
* 속성의 순서는 상관 없다. 즉, 속성의 순서가 바뀌어도 같은 테이블이다.
* 튜플의 순서도 상관 없다. 즉, 튜플의 순서가 바뀌어도 같은 테이블이다.
* 테이블의 튜플은 서로 중복돼지 않아야 한다.
* 테이블의 튜플은 서로 구별돼야 한다. 즉, 튜플의 중복이 없어야 한다.










***












# Key
1. key: 
    * 가끔 속성을 합쳐서 키를 만들기도 한다.
    * 반반드시 키를 가지고 있어야 한다.
2. 무결성 제약약조건: 결함이 없없도록 붙여주는 조건 
3. 

# 기본키 Primry key
중복돼지 않는 값을 가진것것은 모두 key가 됄수 있는데, table에 이러한 것이 여러개 있을수 있다.

후보키중 하나를 선정하여 대표로 삼는 키라 할 수 있다.

그중 가장 중요한 키라 할수 있다, 중요하다는것을 정하는 주체는 개발자다.

주문(<U>키</U>, 어쩌구, 저쩌구)

# 슈퍼키
쓰이는곳이 있긴 한데, 별로 의미가 없다.

여기서 고객번호호와 주민번호가 기본키가 됄수 있는데 여기 아무거나 붙여도 키가 됄수 있다는 개념

키에 아무거나 붙인거

# 후보키


# 대체키
후보키중 기본킬 선정돼지 못한 나머지

# 대체키
인조키라 하기도 한다.

이또한 별로 의미가 없다.

예를드어 주민번호를 키로하기엔 너무 길다면 도서번호를 따로 붙붙여서 키로 삼는것 이다.

또 어쩔때는 보안 문제로 주민번호를 키로 삼는것보단 의밍벗는 숫자를 생성해 키로 삼기도 한다.

DBMS가 알아서 관리해주는 키이기도 한다.

# 외래키
가장 중요하다.

릴레이이션 간의 관계를 표현하기 위한 키다.

외부에서 빌려온 키키의 개념념이기 때문에 Forein key 라 한다.

사실 엄밀히 말하면 릴레이션 간의 관계를 표현하기 위해 외부에서 빌려온 키이기 때문에

키라고 하긴 힘들다.

키지만 키가 아니기 때문에, 중복, NULL이 허용 된다.

굳이 외부가 아니더라도 자기 자신과도 관계를 가질수 있다. 이럴때 NULL을 가지는 예다.

JOIN 연산을 통해 연관을 찾을수 있따.

# 무결성 제약조건
전부 키와 관계가 있다.








***






# 무무결성 제약 조건
관계형 모델엔 3가지가 있다.

* 무결성: 결험이 없다, 즉 DB에 저장된 데이터늬 일관성과 정확성을 지키는것을 말함.
* 도메인 무결성 제약 조건
    * ex) 학번은 Integer다, 문자열이면 안안됀다.
* 개체 무결성 제약약조건, 다른말말로 기본키 제약 조조건이라 한한다.
    * ex) 반드시 기본키를 지정해야 한다는 조건
* 참조 무결성 제약약조건, 관계에 관한 조건이다.
    * ex) 학생 테이블과 학과 테이블이 있다 가정 했을을때, 학생 테이블에서 학과 테이블을 참조할때, 바로 학과명으로 참조하는는게 아닌, 학과 테이블의 기본키인 학과 코드로 참조한다.
        * 이때 참조하는 기본키의 타입이 같아야 한다.
        * Insert: 부모에 삽입할땐 별다른 제약조건이 없다. 하지만 자식에 삽입할때 참조받는 테이블블에 외래키는 부모 테이블의 키가 있는거로 삽입해야 한다.
        * Dlete: 자식은 마음대로 삭제해도 됀다. 하지만 부모 릴레이션션을 삭제할때는 문제가 됀다. 예를들어, 체유유학과가 사라졌을때, 자식 테이블의 체육학과과를 어떻게 할지에 대한거다. 4가지가 있있다. 부모가 삭제돼면 자식도 전부 삭제, 부모가 삭제돼면 디폴트 값으로 바꾼다(예를들어 무전공), 참조돼는 자식이 있으면 애초에 삭제를 못하게, 자식을 NULL로 바꾼다.
        * 이것들은 테이블을 생성할때 결정할 수 있다. 프로그래밍만 잘하면 DBMS가 알아서 해준다는 뜻
        * 수정: 부모키가 변경경돼면 자식도 일괄 변경, 자식 테이블은 부ㅗ 테능블의 키로만 수정 가능
        

이러한 조건건들은 프로로그래밍을 통해 작성한다, 잘 지켜졌는지에 대한 검산은 DBMS가 해해준다.



